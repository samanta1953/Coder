<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>App Request</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f2f4f8;
}
.app{
  max-width:420px;
  margin:auto;
  background:#fff;
  min-height:100vh;
  padding:20px;
}
h2{text-align:center;}
.card{
  background:#fff;
  padding:15px;
  border-radius:12px;
  box-shadow:0 2px 10px rgba(0,0,0,.1);
  margin-bottom:15px;
}
label{font-weight:bold;}
select,textarea,input{
  width:100%;
  padding:10px;
  border-radius:8px;
  border:1px solid #ccc;
  margin-top:5px;
}
textarea{height:80px;resize:none;}
button{
  width:100%;
  padding:15px;
  border:none;
  border-radius:10px;
  background:#007bff;
  color:#fff;
  font-size:16px;
  font-weight:bold;
  margin-top:10px;
}
.pay-option{
  display:flex;
  gap:10px;
}
.pay-option button{
  background:#eee;
  color:#000;
}
.pay-option button.active{
  background:#28a745;
  color:#fff;
}
.advance-box{
  background:#e9f5ff;
  padding:10px;
  border-radius:8px;
  font-weight:bold;
}
</style>
</head>

<body>

<div class="app">
<h2>ðŸš€ Request an App</h2>

<form id="appForm">

<div class="card">
<label>App Type</label>
<select id="appType" required onchange="setEstimate()">
<option value="">Select</option>
<option value="Business">Business</option>
<option value="Shop">Shop</option>
<option value="Custom">Custom</option>
</select>
</div>

<div class="card">
<label>Total Price (â‚¹)</label>
<input type="number" id="totalPrice" readonly>
</div>

<div class="card">
<label>Advance (30%)</label>
<div class="advance-box">â‚¹ <span id="advance">0</span></div>
</div>

<div class="card">
<label>Description</label>
<textarea id="description" required></textarea>
</div>

<div class="card">
<label>Payment Method</label>
<div class="pay-option">
<button type="button" onclick="setPay(this)">UPI</button>
<button type="button" onclick="setPay(this)">Online</button>
</div>
</div>

<button type="submit">Submit & Pay Advance</button>

</form>
</div>

<script>
let advanceAmount=0;
let paymentMethod="";

function setEstimate(){
  let type=document.getElementById("appType").value;
  let price=0;
  if(type==="Business") price=10000;
  if(type==="Shop") price=15000;
  if(type==="Custom") price=25000;

  document.getElementById("totalPrice").value=price;
  advanceAmount=Math.round(price*0.3);
  document.getElementById("advance").innerText=advanceAmount;
}

function setPay(btn){
  document.querySelectorAll(".pay-option button").forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
  paymentMethod=btn.innerText;
}

document.getElementById("appForm").addEventListener("submit",function(e){
  e.preventDefault();
  if(!paymentMethod){
    alert("Select payment method");
    return;
  }

  const formURL="https://docs.google.com/forms/d/e/1FAIpQLSdGAO4yAmsQWgzTBRYM9ySWwivQnUebhaD8RG9bG2dYkIHyhQ/formResponse";

  const data=new FormData();
  data.append("entry.1795590782",document.getElementById("appType").value);
  data.append("entry.1305584766",document.getElementById("totalPrice").value);
  data.append("entry.1653293969",advanceAmount);
  data.append("entry.1922413189",document.getElementById("description").value);
  data.append("entry.218273767",paymentMethod);

  fetch(formURL,{method:"POST",mode:"no-cors",body:data});

  openUPIPayment(advanceAmount);

  alert("Request submitted! Pay advance to start work.");
  this.reset();
  document.getElementById("advance").innerText="0";
  paymentMethod="";
});

function openUPIPayment(amount){
  const upiId="merizindegi40-1@okhdfcbank";   // ðŸ”´ à¦¨à¦¿à¦œà§‡à¦° UPI ID à¦¦à§‡à¦¬à§‡
  const name="App Chaiye";
  const note="30% Advance App Development";

  const upiURL=`upi://pay?pa=${upiId}&pn=${encodeURIComponent(name)}&am=${amount}&cu=INR&tn=${encodeURIComponent(note)}`;
  window.location.href=upiURL;
}
</script>

</body>
  </html>
